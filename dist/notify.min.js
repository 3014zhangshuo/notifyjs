/** Notify.js - v0.0.1 - 2013/05/31
 * http://notifyjs.com/
 * Copyright (c) 2013 Jaime Pillora - MIT
 */(function(t,n,i){"use strict";var e,o,r,s,a,l,h,p,d,u,c,f,w,y,m,g,A,b,x=[].indexOf||function(t){for(var n=0,i=this.length;i>n;n++)if(n in this&&this[n]===t)return n;return-1};w="notify",o="__"+w,m={t:"top",m:"middle",b:"bottom",l:"left",c:"center",r:"right"},l=["l","c","r"],b=["t","m","b"],u=["t","b","l","r"],c={t:"b",m:null,b:"t",l:"r",c:null,r:"l"},f=function(t){var n;return n=[],$.each(t.split(/\W+/),function(t,e){var o;return o=e.toLowerCase().charAt(0),m[o]?n.push(o):i}),n},A={core:{html:'<div class="'+o+'Wrapper">\n  <div class="'+o+'Debug"></div>\n  <div class="'+o+'Arrow"></div>\n  <div class="'+o+'Container"></div>\n</div>',css:"."+o+"Corner {\n  position: fixed;\n  top: 0;\n  right: 0;\n  margin: 5px;\n  z-index: 1050;\n}\n\n."+o+"Corner ."+o+"Wrapper,\n."+o+"Corner ."+o+"Container {\n  position: relative;\n  display: block;\n  height: inherit;\n  width: inherit;\n}\n\n."+o+"Wrapper {\n  z-index: 1;\n  position: absolute;\n  display: inline-block;\n  height: 0;\n  width: 0;\n}\n\n."+o+"Debug {\n  position: absolute;\n  border: 3px solid red;\n  height: 0;\n  width: 0;\n}\n\n."+o+"Container {\n  display: none;\n  z-index: 1;\n  position: absolute;\n  cursor: pointer;\n}\n\n."+o+"Text {\n  position: relative;\n}\n\n."+o+"Arrow {\n  position: absolute;\n  z-index: 2;\n  width: 0;\n  height: 0;\n}\n"},user:{"default":{html:'<div class="'+o+'Default" \n     data-notify-style="\n      color: {{color}}; \n      border-color: {{color}};\n     ">\n   <span data-notify-text></span>\n </div>',css:"."+o+"Default {\n  background: #fff;\n  font-size: 11px;\n  box-shadow: 0 0 6px #000;\n  -moz-box-shadow: 0 0 6px #000;\n  -webkit-box-shadow: 0 0 6px #000;\n  padding: 4px 10px 4px 8px;\n  border-radius: 6px;\n  border-style: solid;\n  border-width: 2px;\n  -moz-border-radius: 6px;\n  -webkit-border-radius: 6px;\n  white-space: nowrap;\n}"},bootstrap:{html:'<div class="alert alert-error '+o+'Bootstrap">\n  <strong data-notify-text></strong>\n</div>',css:"."+o+"Bootstrap {\n  white-space: nowrap;\n  margin: 5px !important;\n  padding-left: 25px !important;\n  background-repeat: no-repeat;\n  background-position: 3px 7px;\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAtRJREFUeNqkVc1u00AQHq+dOD+0poIQfkIjalW0SEGqRMuRnHos3DjwAH0ArlyQeANOOSMeAA5VjyBxKBQhgSpVUKKQNGloFdw4cWw2jtfMOna6JOUArDTazXi/b3dm55socPqQhFka++aHBsI8GsopRJERNFlY88FCEk9Yiwf8RhgRyaHFQpPHCDmZG5oX2ui2yilkcTT1AcDsbYC1NMAyOi7zTX2Agx7A9luAl88BauiiQ/cJaZQfIpAlngDcvZZMrl8vFPK5+XktrWlx3/ehZ5r9+t6e+WVnp1pxnNIjgBe4/6dAysQc8dsmHwPcW9C0h3fW1hans1ltwJhy0GxK7XZbUlMp5Ww2eyan6+ft/f2FAqXGK4CvQk5HueFz7D6GOZtIrK+srupdx1GRBBqNBtzc2AiMr7nPplRdKhb1q6q6zjFhrklEFOUutoQ50xcX86ZlqaZpQrfbBdu2R6/G19zX6XSgh6RX5ubyHCM8nqSID6ICrGiZjGYYxojEsiw4PDwMSL5VKsC8Yf4VRYFzMzMaxwjlJSlCyAQ9l0CW44PBADzXhe7xMdi9HtTrdYjFYkDQL0cn4Xdq2/EAE+InCnvADTf2eah4Sx9vExQjkqXT6aAERICMewd/UAp/IeYANM2joxt+q5VI+ieq2i0Wg3l6DNzHwTERPgo1ko7XBXj3vdlsT2F+UuhIhYkp7u7CarkcrFOCtR3H5JiwbAIeImjT/YQKKBtGjRFCU5IUgFRe7fF4cCNVIPMYo3VKqxwjyNAXNepuopyqnld602qVsfRpEkkz+GFL1wPj6ySXBpJtWVa5xlhpcyhBNwpZHmtX8AGgfIExo0ZpzkWVTBGiXCSEaHh62/PoR0p/vHaczxXGnj4bSo+G78lELU80h1uogBwWLf5YlsPmgDEd4M236xjm+8nm4IuE/9u+/PH2JXZfbwz4zw1WbO+SQPpXfwG/BBgAhCNZiSb/pOQAAAAASUVORK5CYII=);\n}",colors:{red:"#eed3d7"}}}},y={autoHide:!1,autoHideDelay:2e3,arrowShow:!0,arrowSize:5,position:"bottom",style:"default",color:"red",colors:{red:"#b94a48",green:"#33be40",black:"#393939",blue:"#00f"},showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,offsetY:0,offsetX:0},s=function(t){return $("<"+t+"></"+t+">")},p=function(t,n){var i;return i=function(){},i.prototype=t,$.extend(!0,new i,n)},r=s("div").addClass(""+o+"Corner"),a=function(t){var n;return t.is("[type=radio]")&&(n=t.parents("form:first").find("[type=radio]").filter(function(n,i){return $(i).attr("name")===t.attr("name")}),t=n.first()),t},h=function(t,n,e){var o,r;if("string"==typeof e)e=parseInt(e,10);else if("number"!=typeof e)return;if(!isNaN(e))return o=m[c[n.charAt(0)]],r=n,t[o]!==i&&(n=m[o.charAt(0)],e*=-1),t[n]===i?t[n]=e:t[n]+=e,null},g=function(t,n,i){if("l"===t||"t"===t)return 0;if("c"===t||"m"===t)return i/2-n/2;if("r"===t||"b"===t)return i-n;throw"Invalid alignment"},d=function(t){var n;if(t&&t.css&&(n=t.cssElem,!n)){n=s("style"),$("head").append(n),t.cssElem=n;try{return n.html(t.css)}catch(i){return n[0].styleSheet.cssText=t.css}}},e=function(){function t(t,n,i){"string"==typeof i&&(i={color:i}),this.options=p(y,$.isPlainObject(i)?i:{}),this.loadCSS(),this.loadHTML(),this.wrapper=$(A.core.html),this.wrapper.data(o,this),this.arrow=this.wrapper.find("."+o+"Arrow"),this.container=this.wrapper.find("."+o+"Container"),this.container.append(this.userContainer),t&&t.length?(this.elementType=t.attr("type"),this.originalElement=t,this.elem=a(t),this.elem.data(o,this),this.elem.before(this.wrapper)):(this.options.arrowShow=!1,r.prepend(this.wrapper)),this.container.hide(),this.run(n)}return t.prototype.loadCSS=function(t){var n;return t||(n=this.options.style,t=this.getStyle(n)),d(t)},t.prototype.loadHTML=function(){var t;if(t=this.getStyle(),this.userContainer=$(t.html),this.text=this.userContainer.find("[data-notify-text]"),0===this.text.length)throw"style: "+name+" HTML is missing the: 'data-notify-text' attribute";return this.text.addClass(""+o+"Text")},t.prototype.show=function(t,n){var i,e,o,r;if(null==n&&(n=$.noop),r=this.container.parent().parents(":hidden").length>0,e=this.container.add(this.arrow),i=[],r&&t)o="show";else if(r&&!t)o="hide";else if(!r&&t)o=this.options.showAnimation,i.push(this.options.showDuration);else{if(r||t)return n();o=this.options.hideAnimation,i.push(this.options.hideDuration)}return i.push(n),e[o].apply(e,i)},t.prototype.updatePosition=function(){var t,n,i,e,o,r,s,a,p,d,f,w,y,A,v,C,S,k,R,B,D,H,I;if(this.elem){if(s=this.elem.position(),r=this.elem.outerHeight(),a=this.elem.outerWidth(),D=this.wrapper.position(),i=this.container.height(),e=this.container.width(),R=this.getPosition(),console.log(R),v=R[0],y=R[1],A=R[2]||y,p=m[v],f=c[v],w=m[f],o={},o[w]="b"===v?r:"r"===v?a:0,h(o,"left",s.left-D.left),d=parseInt(this.elem.css("margin-left"),10),d&&h(o,"left",d),/^inline/.test(this.elem.css("display"))&&(C=parseInt(this.elem.css("padding-top"),10),C&&h(o,"top",-C)),h(o,"top",this.options.offsetY),h(o,"left",this.options.offsetX),this.options.arrowShow){for(B=this.options.arrowSize,t=$.extend({},o),H=0,I=u.length;I>H;H++)S=u[H],k=m[S],S!==f&&(n=k===p?this.getColor():"transparent",t["border-"+k]=""+B+"px solid "+n);h(o,m[f],B),this.arrow.css(t).show()}else this.arrow.hide();return x.call(b,v)>=0&&h(o,"left",g(y,e,a)),x.call(l,v)>=0&&h(o,"top",g(y,i,r)),this.container.is(":visible")&&(o.display="block"),this.container.removeAttr("style").css(o)}},t.prototype.getPosition=function(){var t,n,i,e,o,r,s,a;if(n=this.options.position,t=f(n),0===t.length&&(t[0]="b"),i=t[0],0>x.call(u,i))throw"Must be one of ["+u+"]";if((1===t.length||(e=t[0],x.call(b,e)>=0&&(o=t[1],0>x.call(l,o)))||(r=t[0],x.call(l,r)>=0&&(s=t[1],0>x.call(b,s))))&&(t[1]=(a=t[0],x.call(l,a)>=0?"m":"l")),!this.options.autoReposition)return t;throw"Not implemented"},t.prototype.getColor=function(){var t;return t=this.getStyle().colors,t&&t[this.options.color]||this.options.colors[this.options.color]||this.options.color},t.prototype.getStyle=function(t){var n;if(t||(t=this.options.style),t||(t="default"),n=A.user[t],!n)throw"Missing style: "+t;return n},t.prototype.updateStyle=function(){var t=this;return this.wrapper.find("[data-notify-style]").each(function(n,i){return $(i).attr("style",$(i).attr("data-notify-style").replace(/\{\{\s*color\s*\}\}/gi,t.getColor()))})},t.prototype.run=function(t,n){var e=this;return $.isPlainObject(n)?$.extend(this.options,n):"string"===$.type(n)&&(this.options.color=n),this.container&&!t?(this.show(!1),i):this.container||t?("string"===$.type(t)?this.text.html(t.replace("\n","<br/>")):this.text.empty().append(t),this.updatePosition(),this.show(!0),this.options.autoHide?(clearTimeout(this.autohideTimer),this.autohideTimer=setTimeout(function(){return e.show(!1)},this.options.autoHideDelay)):i):i},t.prototype.destroy=function(){var t=this;return this.show(!1,function(){return t.wrapper.remove()})},t}(),$(function(){return $("body").append(r),$("link").each(function(){var t,n;return n=$(this).attr("href"),n.match(/bootstrap/)?(t=!0,!1):i}),d(A.core),$(n).on("click","."+o+"Wrapper",function(){var t;return(t=$(this).data(o))?t.elem?t.show(!1):t.destroy():i})}),$[w]=function(t,n,i){return t&&t.nodeName||t.jquery?$(t)[w](n,i):(i=n,n=t,new e(null,n,i)),t},$[w].options=function(t){return $.extend(y,t)},$[w].styles=function(t){return $.extend(!0,A.user,t)},$[w].insertCSS=d,$.fn[w]=function(t,n){return $(this).each(function(){var i;return i=a($(this)).data(o),i?i.run(t,n):new e($(this),t,n)}),this}})(window,document);